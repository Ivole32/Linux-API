## 2026-02-14 [2]

Today I started auditing the existing user management routes to identify bugs and potential security issues.

For this process I used OWASP ZAP. From past experience, its automated scanning is very effective at uncovering edge cases, malformed requests, and improper error handling.

During testing I discovered that the user deletion endpoint accepted arbitrary strings instead of strictly validating UUIDs. Supplying invalid values caused database errors due to failed UUID parsing. Input validation has now been tightened to ensure only valid UUIDs (or the special `"me"` value) are accepted.

Additionally, I rediscovered an old host-header parsing issue that I had previously reported but which was not accepted upstream.  
Issue reference: https://github.com/pallets/werkzeug/issues/3063

To prevent crashes caused by malformed host headers, I implemented a manual mitigation in the middleware layer.

### Next Steps
- Continue the security review of existing endpoints  
- Improve error handling to safely manage malformed requests  
- Continue implementing new API routes in parallel with the hardening work

### Changelog
- [Feat: Fix for pallets/werkzeug#3063](https://github.com/Ivole32/Linux-API/commit/9d0595a76209f64a08f98b95a4d0fc4e063b3b75)
- [Feat: Fix for pallets/werkzeug#3063](https://github.com/Ivole32/Linux-API/commit/14eab220f90107ee7b26c7f7857a26e2f6614138)
- [Fix for pallets/werkzeug#3063](https://github.com/Ivole32/Linux-API/commit/d9cbd03f18aa7f7b02ca151a64358964e8a6ed7e)
- [Hardened pydantic models](https://github.com/Ivole32/Linux-API/commit/b0e234163a95cbb0c8761761651381d6722c3c0f)
- [Addede devlog 2026-02-14_1](https://github.com/Ivole32/Linux-API/commit/3b8de83db1b588dea870e9c165fff7c1e80a8ce4)